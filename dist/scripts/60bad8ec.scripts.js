"use strict";angular.module("gadCalcApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("gadCalcApp").controller("MainCtrl",["$scope","$location","$anchorScroll",function(a){function b(){a.pWeightalt=a.pUnitkg?a.pWeight*d:a.pWeight*c,a.dose=a.drugDoseUser/a.drugForm*a.pWeight,a.pUnitkg||(a.dose=a.dose*c),a.userAdjusted=a.drugMMKG!=a.drugDoseUser?!0:!1,a.fractionSize=a.dose>5?0:1,a.liveformula=a.pUnitkg?"\\left( \\dfrac{"+a.drugDoseUser+" \\mathrm{ \\frac{mmol}{kg}} * "+a.pWeight+" \\mathrm{kg} }{"+a.drugForm+"\\mathrm{\\frac{mmol}{mL}}} \\right) = "+a.dose+"\\mathrm{mL}":"\\left( \\dfrac{"+a.drugDoseUser+" \\mathrm{mmol/kg} * "+a.pWeight+" \\mathrm{lb} * 0.453592 \\mathrm{\\frac{kg}{lb}} }{"+a.drugForm+"\\mathrm{mmol/mL}} \\right)= "+a.dose+"\\mathrm{mL}"}a.color="blue",a.pUnitN="kg",a.pUnitkg=!0,a.pWeight="0.0",a.pWeightalt="0.0",a.drugSelection="",a.drug="",a.drugDose="",a.drugInfo="",a.drugForm="",a.drugMMKG="",a.userDrug="",a.userDoseRatio="",a.drugDoseUser="",a.continueLook=!1,a.myvar="",a.showCalc=!1,a.userAdjusted=!0,a.userAdjustedC="text-danger",a.fractionSize=5;var c=.453592,d=2.20462;a.formulaGeneric="\\left( \\dfrac{\\mathrm{D} \\mathrm{ \\frac{mmol}{kg}  * \\mathrm{W (kg)} } }{\\mathrm{C}\\mathrm{  \\frac{mmol}{mL}  }   } \\right) = \\mathrm{V} \\mathrm{(mL)}",a.formula="\\left( \\dfrac{\\mathrm{User Adjusted} \\mathrm{ \\frac{mmol}{kg}  * \\mathrm{Patient Mass (kg)} } }{\\mathrm{Formulation}\\mathrm{  \\frac{mmol}{mL}  }   } \\right) = \\mathrm{Dose} \\mathrm{(mL)}",a.lifeformula="",a.checkValue1=function(){return!0},a.drugs=[["Ablavar","Gadofosveset trisodium","0.25","0.03","0.12","0.03"],["Dotarem","Gadoterate meglumine","0.5","0.1","0.2","0.1"],["Eovist","Gadoxetate disodium","0.25","0.025","0.1","0.025"],["Gadavist","Gadobutrol","1.0","0.1","0.1","0.1"],["Magnevist","Gadopentetate dimeglumine","0.5","0.1","0.2","0.1"],["MultiHance","Gadobenate dimeglumine","0.5","0.1","0.2","0.1"],["Omniscan","Gadodiamide","0.5","0.1","0.2","0.1"],["Optimark","Gadoversetamide","0.5","0.1","0.2","0.1"],["ProHance","Gadoteridol","0.5","0.1","0.2","0.1"]],a.$watch("pWeight",function(){b()}),a.$watch("pUnitN",function(){a.pUnitkg="kg"==a.pUnitN?!0:!1,b()}),a.$watch("drugSelection",function(){for(var c=a.drugSelection,d=a.drugs,e=0;e<d.length;e++)d[e][0]==c&&(a.drugInfo=d[e],a.drugIndex=e);a.drugDose=a.drugInfo[4],a.drugDoseUser=a.drugInfo[5],a.drugForm=a.drugInfo[2],a.drugMMKG=a.drugInfo[3],a.userDoseRatio=a.drugDoseUser/a.drugMMKG,b()}),a.continueL=function(){a.continueLook=!0,a.myvar="fadeIn"},a.showCalc=function(){a.showCalc=!0},a.kgStyle={"class":"btn btn-default button active"},a.$watch("drugs",function(){for(var c=a.drugSelection,d=a.drugs,e=0;e<d.length;e++)d[e][0]==c&&(a.drugInfo=d[e],a.userAdjusted=d[e][3]!=d[e][5]?!0:!1);a.drugDose=a.drugInfo[4],a.drugDoseUser=a.drugInfo[5],a.drugForm=a.drugInfo[2],a.drugMMKG=a.drugInfo[3],a.userDoseRatio=a.drugDoseUser/a.drugMMKG,b()},!0)}]),angular.module("gadCalcApp").directive("mathjaxBind",function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,b,c){a.$watch(c.mathjaxBind,function(a){var c=angular.element("<script type='math/tex'>").html(void 0==a?"":a);b.html(""),b.append(c),MathJax.Hub.Queue(["Reprocess",MathJax.Hub,b[0]])})}]}});